import{j as E,k as V}from"./AppSidebarLayout.vue_vue_type_style_index_0_lang-D5E8iXr7.js";import{d as j,P as f,c as A,o,w as r,a as t,b as i,k as c,i as a,j as u,u as e,Q as p,R as H,t as g,F as T,r as R,S,U as F,N as y,V as I}from"./app-DCCNdGM7.js";import"./index-BepDuGHz.js";import"./useForwardExpose-B7KGuOhh.js";import"./VisuallyHidden-DBs5sjsU.js";import"./RovingFocusGroup-DHsfSiq9.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-D8epRZCQ.js";import"./index-CMWG4mbA.js";import"./createLucideIcon-GajpaDFW.js";import"./log-out-DvDjCZxQ.js";import"./zap-CvKH04Iu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-CNyGcmTX.js";import"./lock-DWgqKGxe.js";import"./arrow-right-D2zYUBdw.js";const $={class:"p-6 max-w-4xl mx-auto"},z={class:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6"},G={class:"flex items-center justify-between mb-6"},L={class:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2"},M={key:0},P={key:0,class:"mb-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 rounded-lg border border-yellow-200 dark:border-yellow-800"},Q={key:1,class:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800"},U={key:2,class:"space-y-4"},W={class:"flex items-center gap-4"},q={class:"p-3 bg-emerald-100 dark:bg-emerald-900/30 rounded-full text-emerald-600 dark:text-emerald-400"},J={class:"font-medium text-gray-900 dark:text-white flex items-center gap-2"},K={class:"text-xs text-gray-500"},O={key:3,class:"text-center py-12 text-gray-400"},ge=j({__name:"Biometrics",setup(X){const k=[{title:"Ajustes",href:"/settings/profile"},{title:"Huella Digital",href:"/settings/biometrics"}],{isAvailable:m,isAuthenticating:v,error:x,registeredCredentials:b,register:h,deleteCredential:w,updateCredentialName:C}=E(),N=async()=>{await h()&&y({title:"Éxito",message:"Huella digital registrada correctamente.",type:"success"})},B=async d=>{try{const{value:s}=await I.prompt("Ingresa el nuevo nombre para este dispositivo","Renombrar",{confirmButtonText:"Guardar",cancelButtonText:"Cancelar",inputValue:d.name,inputPattern:/\S/,inputErrorMessage:"El nombre no puede estar vacío",customClass:"dark-message-box"});s&&(await C(d.id,s),y({title:"Actualizado",message:"Nombre actualizado correctamente.",type:"success"}))}catch{}};return(d,s)=>{const l=f("el-icon"),_=f("el-button");return o(),A(V,{breadcrumbs:k},{default:r(()=>[t("div",$,[t("div",z,[t("div",G,[t("div",null,[t("h2",L,[a(l,{class:"text-emerald-500"},{default:r(()=>[a(e(p))]),_:1}),s[0]||(s[0]=u(" Configuración de Huella Digital ",-1))]),s[1]||(s[1]=t("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," Gestiona tus dispositivos de acceso biométrico (Touch ID, Face ID, Windows Hello). ",-1))]),e(m)?(o(),i("div",M,[a(_,{type:"primary",onClick:N,loading:e(v),class:"bg-emerald-600 hover:bg-emerald-700 border-none"},{default:r(()=>[a(l,{class:"mr-2"},{default:r(()=>[a(e(H))]),_:1}),s[2]||(s[2]=u(" Agregar Huella ",-1))]),_:1},8,["loading"])])):c("",!0)]),e(m)?c("",!0):(o(),i("div",P,[...s[3]||(s[3]=[t("p",{class:"flex items-center gap-2"},[t("span",{class:"text-xl"},"⚠️"),u(" Tu dispositivo o navegador no soporta autenticación biométrica o no tienes configurada ninguna huella en el sistema operativo. ")],-1)])])),e(x)?(o(),i("div",Q,g(e(x)),1)):c("",!0),e(b).length>0?(o(),i("div",U,[(o(!0),i(T,null,R(e(b),n=>(o(),i("div",{key:n.id,class:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},[t("div",W,[t("div",q,[a(l,{class:"text-xl"},{default:r(()=>[a(e(p))]),_:1})]),t("div",null,[t("h3",J,[u(g(n.name)+" ",1),a(l,{class:"cursor-pointer text-gray-400 hover:text-white transition-colors",onClick:D=>B(n)},{default:r(()=>[a(e(S))]),_:1},8,["onClick"])]),t("p",K,"Registrado el "+g(new Date(n.created_at).toLocaleDateString()),1)])]),a(_,{type:"danger",circle:"",plain:"",onClick:D=>e(w)(n.id)},{default:r(()=>[a(l,null,{default:r(()=>[a(e(F))]),_:1})]),_:1},8,["onClick"])]))),128))])):e(m)?(o(),i("div",O,[a(l,{class:"text-4xl mb-2 opacity-50"},{default:r(()=>[a(e(p))]),_:1}),s[4]||(s[4]=t("p",null,"No tienes huellas registradas.",-1))])):c("",!0)])])]),_:1})}}});export{ge as default};
