import{d as k,E as w,e as n,g as v,c as b,o,w as a,i as r,u as c,x as h,a as e,b as i,t as S,j as m,m as C,Z as B}from"./app-DCCNdGM7.js";import{_ as N,a as j}from"./Layout.vue_vue_type_script_setup_true_lang-DljYbedv.js";import{_ as f}from"./index-BepDuGHz.js";import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-DknMSk7r.js";import{n as P}from"./AppSidebarLayout.vue_vue_type_style_index_0_lang-D5E8iXr7.js";import"./useForwardExpose-B7KGuOhh.js";import"./index-CMWG4mbA.js";import"./index-DnLC8ybD.js";import"./VisuallyHidden-DBs5sjsU.js";import"./RovingFocusGroup-DHsfSiq9.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-D8epRZCQ.js";import"./createLucideIcon-GajpaDFW.js";import"./log-out-DvDjCZxQ.js";import"./zap-CvKH04Iu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-CNyGcmTX.js";import"./lock-DWgqKGxe.js";import"./arrow-right-D2zYUBdw.js";const V={class:"flex flex-col space-y-6"},$={key:0,class:"text-sm text-gray-500"},q={key:1,class:"space-y-4"},E={key:0,class:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 gap-4"},I={class:"flex items-center space-x-3"},M={class:"min-w-0"},F={class:"text-sm text-green-700 dark:text-green-300 truncate"},T={key:1,class:"flex flex-col items-start space-y-4 p-6 bg-neutral-50 dark:bg-neutral-900 rounded-lg border border-neutral-200 dark:border-neutral-800"},ae=k({__name:"Spotify",setup(Z){const{disconnectPlayer:y}=P(),g=[{title:"Configuración Spotify",href:"/settings/spotify"}];w();const l=n(!1),d=n(""),u=n(!0),p=async()=>{try{const s=await C.get("/api/spotify/status");l.value=s.data.connected,d.value=s.data.name}catch(s){console.error("Failed to check Spotify status",s)}finally{u.value=!1}},x=()=>{window.location.href="/auth/spotify"},_=async()=>{confirm("¿Estás seguro de que quieres desconectar Spotify?")&&B.post("/api/spotify/disconnect",{},{onSuccess:()=>{y(),p()}})};return v(()=>{p()}),(s,t)=>(o(),b(D,{breadcrumbs:g},{default:a(()=>[r(c(h),{title:"Configuración Spotify"}),r(N,null,{default:a(()=>[e("div",V,[r(j,{title:"Spotify",description:"Conecta tu cuenta de Spotify para reproducir música con el asistente."}),u.value?(o(),i("div",$," Cargando estado... ")):(o(),i("div",q,[l.value?(o(),i("div",E,[e("div",I,[t[1]||(t[1]=e("div",{class:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white shrink-0"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-music"},[e("path",{d:"M9 18V5l12-2v13"}),e("circle",{cx:"6",cy:"18",r:"3"}),e("circle",{cx:"18",cy:"16",r:"3"})])],-1)),e("div",M,[t[0]||(t[0]=e("h3",{class:"font-medium text-green-900 dark:text-green-100 truncate"},"Conectado a Spotify ",-1)),e("p",F,"ID: "+S(d.value),1)])]),r(c(f),{variant:"destructive",onClick:_,class:"w-full sm:w-auto"},{default:a(()=>[...t[2]||(t[2]=[m("Desconectar",-1)])]),_:1})])):(o(),i("div",T,[t[4]||(t[4]=e("p",{class:"text-neutral-600 dark:text-neutral-400"}," Conecta tu cuenta para permitir que el asistente controle la música. Necesitarás una cuenta Premium de Spotify para la reproducción completa. ",-1)),r(c(f),{onClick:x,class:"bg-[#1DB954] hover:bg-[#1ed760] text-white border-none w-full sm:w-auto"},{default:a(()=>[...t[3]||(t[3]=[m(" Conectar con Spotify ",-1)])]),_:1})]))]))])]),_:1})]),_:1}))}});export{ae as default};
