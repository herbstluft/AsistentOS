import{_ as R}from"./InputError.vue_vue_type_script_setup_true_lang-CAWfGmPQ.js";import{_ as F}from"./TextLink.vue_vue_type_script_setup_true_lang-BQt1sT0b.js";import{P as z,c as G,_ as L}from"./index-BepDuGHz.js";import{c as P,u as J}from"./VisuallyHidden-DBs5sjsU.js";import{t as H,a as Q,b as M,u as W}from"./useForwardExpose-B7KGuOhh.js";import{f as _,d as $,g as X,h as Y,c as w,o as v,w as f,i as d,u as o,L as q,M as Z,k,K as I,G as ee,l as te,y as re,E as ae,s as oe,N as B,b as A,j as x,t as se,J as ne,a as b}from"./app-DCCNdGM7.js";import{i as ie,u as le,a as ue,g as de,w as ce,f as fe,P as me}from"./RovingFocusGroup-DHsfSiq9.js";import{V as pe}from"./VisuallyHiddenInput-DujJY0IK.js";import{C as he}from"./check-XAI7n9PQ.js";import{_ as O}from"./Input.vue_vue_type_script_setup_true_lang-DskRvFOW.js";import{_ as S}from"./Label.vue_vue_type_script_setup_true_lang-sJ-TKR-k.js";import{_ as be}from"./Spinner.vue_vue_type_script_setup_true_lang-lAI8bePT.js";import{A as ve}from"./AuthPremiumLayout-DmxmypWO.js";import{r as ye}from"./index-D8epRZCQ.js";import{q as ge}from"./index-CMWG4mbA.js";import{r as xe}from"./index-BJDc-xWr.js";import{C as _e}from"./circle-check-RKwC1rqs.js";import{U as we}from"./user-CNyGcmTX.js";import{K as $e}from"./key-DpJp24mN.js";import{A as ke}from"./arrow-right-D2zYUBdw.js";import"./createLucideIcon-GajpaDFW.js";import"./loader-circle-hK0VQR8y.js";import"./zap-CvKH04Iu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CKv6rp-i.js";function K(t){return typeof t=="string"?`'${t}'`:new Ce().serialize(t)}const Ce=(function(){class t{#e=new Map;compare(e,r){const a=typeof e,u=typeof r;return a==="string"&&u==="string"?e.localeCompare(r):a==="number"&&u==="number"?e-r:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(r,!0))}serialize(e,r){if(e===null)return"null";switch(typeof e){case"string":return r?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const r=Object.prototype.toString.call(e);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),e);const a=e.constructor,u=a===Object||a===void 0?"":a.name;if(u!==""&&globalThis[u]===a)return this.serializeBuiltInType(u,e);if(typeof e.toJSON=="function"){const s=e.toJSON();return u+(s!==null&&typeof s=="object"?this.$object(s):`(${this.serialize(s)})`)}return this.serializeObjectEntries(u,Object.entries(e))}serializeBuiltInType(e,r){const a=this["$"+e];if(a)return a.call(this,r);if(typeof r?.entries=="function")return this.serializeObjectEntries(e,r.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,r){const a=Array.from(r).sort((s,i)=>this.compare(s[0],i[0]));let u=`${e}{`;for(let s=0;s<a.length;s++){const[i,y]=a[s];u+=`${this.serialize(i,!0)}:${this.serialize(y)}`,s<a.length-1&&(u+=",")}return u+"}"}$object(e){let r=this.#e.get(e);return r===void 0&&(this.#e.set(e,`#${this.#e.size}`),r=this.serializeObject(e),this.#e.set(e,r)),r}$function(e){const r=Function.prototype.toString.call(e);return r.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(e){let r="[";for(let a=0;a<e.length;a++)r+=this.serialize(e[a]),a<e.length-1&&(r+=",");return r+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((r,a)=>this.compare(r,a)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}for(const n of["Error","RegExp","URL"])t.prototype["$"+n]=function(e){return`${n}(${e})`};for(const n of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+n]=function(e){return`${n}[${e.join(",")}]`};for(const n of["BigInt64Array","BigUint64Array"])t.prototype["$"+n]=function(e){return`${n}[${e.join("n,")}${e.length>0?"n":""}]`};return t})();function j(t,n){return t===n||K(t)===K(n)}function V(t){return t==null}function T(t,n){return V(t)?!1:Array.isArray(t)?t.some(e=>j(e,n)):j(t,n)}function qe(t){return _(()=>H(t)?!!Q(t)?.closest("form"):!0)}var Ie=$({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const n=t,e=ie(),r=le(),a=_(()=>n.tabStopId||r),u=_(()=>e.currentTabStopId.value===a.value),{getItems:s,CollectionItem:i}=ue();X(()=>{n.focusable&&e.onFocusableItemAdd()}),Y(()=>{n.focusable&&e.onFocusableItemRemove()});function y(l){if(l.key==="Tab"&&l.shiftKey){e.onItemShiftTab();return}if(l.target!==l.currentTarget)return;const m=de(l,e.orientation.value,e.dir.value);if(m!==void 0){if(l.metaKey||l.ctrlKey||l.altKey||!n.allowShiftKey&&l.shiftKey)return;l.preventDefault();let p=[...s().map(g=>g.ref).filter(g=>g.dataset.disabled!=="")];if(m==="last")p.reverse();else if(m==="prev"||m==="next"){m==="prev"&&p.reverse();const g=p.indexOf(l.currentTarget);p=e.loop.value?ce(p,g+1):p.slice(g+1)}Z(()=>fe(p))}}return(l,m)=>(v(),w(o(i),null,{default:f(()=>[d(o(z),{tabindex:u.value?0:-1,"data-orientation":o(e).orientation.value,"data-active":l.active?"":void 0,"data-disabled":l.focusable?void 0:"",as:l.as,"as-child":l.asChild,onMousedown:m[0]||(m[0]=p=>{l.focusable?o(e).onItemFocus(a.value):p.preventDefault()}),onFocus:m[1]||(m[1]=p=>o(e).onItemFocus(a.value)),onKeydown:y},{default:f(()=>[q(l.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),Be=Ie;const[Ae]=P("CheckboxGroupRoot");function C(t){return t==="indeterminate"}function N(t){return C(t)?"indeterminate":t?"checked":"unchecked"}const[Se,je]=P("CheckboxRoot");var Ve=$({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(t,{emit:n}){const e=t,r=n,{forwardRef:a,currentElement:u}=M(),s=Ae(null),i=W(e,"modelValue",r,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),y=_(()=>s?.disabled.value||e.disabled),l=_(()=>V(s?.modelValue.value)?i.value==="indeterminate"?"indeterminate":i.value:T(s.modelValue.value,e.value));function m(){if(V(s?.modelValue.value))i.value=C(i.value)?!0:!i.value;else{const c=[...s.modelValue.value||[]];if(T(c,e.value)){const E=c.findIndex(D=>j(D,e.value));c.splice(E,1)}else c.push(e.value);s.modelValue.value=c}}const p=qe(u),g=_(()=>e.id&&u.value?document.querySelector(`[for="${e.id}"]`)?.innerText:void 0);return je({disabled:y,state:l}),(c,E)=>(v(),w(re(o(s)?.rovingFocus.value?o(Be):o(z)),I(c.$attrs,{id:c.id,ref:o(a),role:"checkbox","as-child":c.asChild,as:c.as,type:c.as==="button"?"button":void 0,"aria-checked":o(C)(l.value)?"mixed":l.value,"aria-required":c.required,"aria-label":c.$attrs["aria-label"]||g.value,"data-state":o(N)(l.value),"data-disabled":y.value?"":void 0,disabled:y.value,focusable:o(s)?.rovingFocus.value?!y.value:void 0,onKeydown:ee(te(()=>{},["prevent"]),["enter"]),onClick:m}),{default:f(()=>[q(c.$slots,"default",{modelValue:o(i),state:l.value}),o(p)&&c.name&&!o(s)?(v(),w(o(pe),{key:0,type:"checkbox",checked:!!l.value,name:c.name,value:c.value,disabled:y.value,required:c.required},null,8,["checked","name","value","disabled","required"])):k("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),ze=Ve,Ee=$({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const{forwardRef:n}=M(),e=Se();return(r,a)=>(v(),w(o(me),{present:r.forceMount||o(C)(o(e).state.value)||o(e).state.value===!0},{default:f(()=>[d(o(z),I({ref:o(n),"data-state":o(N)(o(e).state.value),"data-disabled":o(e).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":r.asChild,as:r.as},r.$attrs),{default:f(()=>[q(r.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Re=Ee;const Fe=$({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:n}){const e=t,r=n,a=_(()=>{const{class:s,...i}=e;return i}),u=J(a,r);return(s,i)=>(v(),w(o(ze),I({"data-slot":"checkbox"},o(u),{class:o(G)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e.class)}),{default:f(()=>[d(o(Re),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:f(()=>[q(s.$slots,"default",{},()=>[d(o(he),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}}),h=t=>({url:h.url(t),method:"post"});h.definition={methods:["post"],url:"/login"};h.url=t=>h.definition.url+ge(t);h.post=t=>({url:h.url(t),method:"post"});const U=t=>({action:h.url(t),method:"post"});U.post=t=>({action:h.url(t),method:"post"});h.form=U;Object.assign(h,h);const Oe={key:0,class:"mb-6 p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-center text-xs font-medium text-emerald-400 flex items-center justify-center gap-2"},Ke={class:"space-y-4"},Te={class:"space-y-1.5"},Pe={class:"relative group/input"},Me={class:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within/input:text-emerald-400 transition-colors"},Ne={class:"space-y-1.5"},Ue={class:"flex items-center justify-between ml-1"},De={class:"relative group/input"},Ge={class:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within/input:text-emerald-400 transition-colors"},Le={class:"flex items-center space-x-3 my-1 ml-1"},Je={class:"relative flex items-center justify-center gap-2"},He={key:1,class:"flex items-center gap-2"},Qe={key:0,class:"text-muted-foreground text-sm"},_t=$({__name:"Login",props:{status:{},canResetPassword:{type:Boolean},canRegister:{type:Boolean}},setup(t){const n=ae(),e=_(()=>n.props.errors);return oe(e,r=>{if(Object.keys(r).length===0)return;if(Object.values(r).find(i=>typeof i=="string"&&(i.includes("auth.failed")||i.includes("credentials do not match")||i.includes("credenciales")))){B({title:"Acceso Denegado",message:"Credenciales incorrectas.",type:"error",position:"bottom-right",duration:4e3,customClass:"premium-notification-error"});return}if(Object.values(r).find(i=>typeof i=="string"&&(i.includes("throttle")||i.includes("Too many login attempts")||i.includes("intentos")))){B({title:"Sistema Bloqueado",message:"Demasiados intentos. Espera un momento.",type:"warning",position:"bottom-right",duration:4e3,customClass:"premium-notification-warning"});return}B({title:"Atención",message:"Verifica los campos.",type:"warning",position:"bottom-right",duration:3e3,customClass:"premium-notification-warning"})},{deep:!0}),(r,a)=>(v(),w(ve,{title:"Bienvenido de nuevo",description:"Ingresa al panel de control"},{footer:f(()=>[t.canRegister?(v(),A("p",Qe,[a[7]||(a[7]=x(" ¿No tienes cuenta? ",-1)),d(F,{href:o(ye)(),tabindex:5,class:"text-emerald-400 hover:text-emerald-300 font-medium ml-1 transition-colors underline underline-offset-4 decoration-emerald-500/30 hover:decoration-emerald-500"},{default:f(()=>[...a[6]||(a[6]=[x(" Crear nueva cuenta ",-1)])]),_:1},8,["href"])])):k("",!0)]),default:f(()=>[t.status?(v(),A("div",Oe,[d(o(_e),{class:"w-4 h-4"}),x(" "+se(t.status),1)])):k("",!0),d(o(ne),I(o(h).form(),{"reset-on-success":["password"],class:"flex flex-col gap-5"}),{default:f(({errors:u,processing:s})=>[b("div",Ke,[b("div",Te,[d(o(S),{for:"email",class:"text-muted-foreground text-xs uppercase tracking-wider font-semibold ml-1"},{default:f(()=>[...a[0]||(a[0]=[x("Email",-1)])]),_:1}),b("div",Pe,[b("div",Me,[d(o(we),{class:"w-5 h-5"})]),d(o(O),{id:"email",type:"email",name:"email",required:"",autofocus:"",tabindex:1,autocomplete:"email",placeholder:"usuario@sistema.com",class:"bg-secondary/50 border-border text-foreground placeholder:text-muted-foreground h-12 rounded-xl focus:border-emerald-500/50 focus:ring-emerald-500/20 transition-all pl-12"})]),d(R,{message:u.email},null,8,["message"])]),b("div",Ne,[b("div",Ue,[d(o(S),{for:"password",class:"text-muted-foreground text-xs uppercase tracking-wider font-semibold"},{default:f(()=>[...a[1]||(a[1]=[x("Contraseña",-1)])]),_:1}),t.canResetPassword?(v(),w(F,{key:0,href:o(xe)(),class:"text-xs text-emerald-500/80 hover:text-emerald-400 transition-colors",tabindex:5},{default:f(()=>[...a[2]||(a[2]=[x(" ¿Olvidaste tu clave? ",-1)])]),_:1},8,["href"])):k("",!0)]),b("div",De,[b("div",Ge,[d(o($e),{class:"w-5 h-5"})]),d(o(O),{id:"password",type:"password",name:"password",required:"",tabindex:2,autocomplete:"current-password",placeholder:"••••••••",class:"bg-secondary/50 border-border text-foreground placeholder:text-muted-foreground h-12 rounded-xl focus:border-emerald-500/50 focus:ring-emerald-500/20 transition-all pl-12"})]),d(R,{message:u.password},null,8,["message"])])]),b("div",Le,[d(o(Fe),{id:"remember",name:"remember",tabindex:3,class:"border-border data-[state=checked]:bg-emerald-500 data-[state=checked]:border-emerald-500 w-5 h-5 rounded-md"}),d(o(S),{for:"remember",class:"text-sm text-muted-foreground cursor-pointer select-none hover:text-foreground transition-colors"},{default:f(()=>[...a[3]||(a[3]=[x(" Mantener sesión activa ",-1)])]),_:1})]),d(o(L),{type:"submit",class:"w-full h-12 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-black font-bold text-base shadow-[0_0_20px_rgba(16,185,129,0.3)] hover:shadow-[0_0_30px_rgba(16,185,129,0.5)] transition-all duration-300 relative overflow-hidden group/btn mt-2",tabindex:4,disabled:s,"data-test":"login-button"},{default:f(()=>[a[5]||(a[5]=b("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-700 ease-in-out"},null,-1)),b("div",Je,[s?(v(),w(o(be),{key:0,class:"text-black"})):(v(),A("span",He,[a[4]||(a[4]=x(" Acceder al Sistema ",-1)),d(o(ke),{class:"w-5 h-5 group-hover/btn:translate-x-1 transition-transform"})]))])]),_:2},1032,["disabled"])]),_:1},16)]),_:1}))}});export{_t as default};
