import{_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-DknMSk7r.js";import{d as I,e as D,f as N,g as H,h as q,b as c,o as m,a as t,i as s,t as p,u as r,w as v,j as x,F as V,r as E,n as $,k as T,l as W,T as X,m as F,p as Z,v as ee,q as te,s as ae,c as U,x as le}from"./app-DCCNdGM7.js";import{_ as O,c as se}from"./index-BepDuGHz.js";import{s as P,C as ne,B as G,_ as re,a as z,T as oe,b as ie}from"./AppSidebarLayout.vue_vue_type_style_index_0_lang-D5E8iXr7.js";import{c as J}from"./createLucideIcon-GajpaDFW.js";import{P as Y}from"./plus-DVUrVfrw.js";import{C as R}from"./clock-Co0wLA-5.js";import{_ as de}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DMtLspX8.js";import{_ as ue,a as me}from"./DialogTitle.vue_vue_type_script_setup_true_lang-JFtiUFPy.js";import{_ as j}from"./Input.vue_vue_type_script_setup_true_lang-DskRvFOW.js";import{_ as L}from"./Label.vue_vue_type_script_setup_true_lang-sJ-TKR-k.js";import{u as ce}from"./useForwardExpose-B7KGuOhh.js";import"./VisuallyHidden-DBs5sjsU.js";import"./RovingFocusGroup-DHsfSiq9.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-D8epRZCQ.js";import"./index-CMWG4mbA.js";import"./log-out-DvDjCZxQ.js";import"./zap-CvKH04Iu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./user-CNyGcmTX.js";import"./lock-DWgqKGxe.js";import"./arrow-right-D2zYUBdw.js";const pe=J("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const K=J("CircleCheckBigIcon",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ve={class:"flex flex-col h-full bg-white dark:bg-neutral-900 rounded-xl shadow-sm border border-neutral-200 dark:border-neutral-800 overflow-hidden"},fe={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 sm:p-6 border-b border-neutral-200 dark:border-neutral-800 gap-4"},ge={class:"flex items-center gap-4 w-full sm:w-auto justify-between sm:justify-start"},xe={class:"text-xl sm:text-2xl font-bold text-neutral-900 dark:text-white capitalize"},be={class:"flex items-center gap-2"},he={class:"flex items-center bg-neutral-100 dark:bg-neutral-800 rounded-lg p-1"},we={class:"flex flex-col lg:flex-row flex-1 overflow-hidden"},_e={class:"flex-1 flex flex-col p-2 sm:p-6 overflow-y-auto"},ke={class:"grid grid-cols-7 mb-2 sm:mb-4"},ye={class:"grid grid-cols-7 gap-1 sm:gap-4 flex-1 auto-rows-fr min-h-[300px]"},Ce=["onClick"],$e={class:"flex sm:hidden gap-0.5 mt-1"},De={class:"hidden sm:flex flex-col gap-1 w-full overflow-hidden"},Me=["onClick"],Ve={key:0,class:"text-[10px] text-neutral-400 pl-1 font-medium"},Se={key:0,class:"w-full lg:w-96 border-t lg:border-t-0 lg:border-l border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/50 p-6 overflow-y-auto max-h-[40vh] lg:max-h-full shadow-inner lg:shadow-none"},Ee={class:"flex items-center justify-between mb-6"},Te={class:"text-lg font-bold text-neutral-900 dark:text-white capitalize"},Ae={class:"text-sm text-neutral-500"},Oe={class:"bg-white dark:bg-neutral-800 px-3 py-1 rounded-full border border-neutral-200 dark:border-neutral-700 text-xs font-medium text-neutral-600 dark:text-neutral-400 shadow-sm"},je={class:"space-y-4"},Le=["onClick"],Ne={class:"flex items-start justify-between mb-2"},Be={class:"flex items-center text-xs font-medium text-primary bg-primary/10 px-2 py-1 rounded-full"},Fe={key:0,class:"text-sm text-neutral-500 dark:text-neutral-400 mb-3 line-clamp-2 leading-relaxed"},Ie={class:"flex items-center justify-between mt-3 pt-3 border-t border-neutral-100 dark:border-neutral-700/50"},Ue={class:"flex items-center text-xs text-neutral-400 gap-1.5"},Pe={key:0,class:"flex items-center text-xs text-green-600 dark:text-green-400 font-medium gap-1"},ze={key:0,class:"flex flex-col items-center justify-center py-12 text-center"},Ye={class:"w-16 h-16 bg-neutral-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mb-4 text-neutral-400"},Re=I({__name:"ModernCalendar",props:{initialAppointments:{}},setup(S,{expose:k}){const g=S,u=D(new Date),e=D(g.initialAppointments||[]),f=D(null);D(!1);const M=N(()=>{const l=u.value.getFullYear(),o=u.value.getMonth();return new Date(l,o+1,0).getDate()}),h=N(()=>{const l=u.value.getFullYear(),o=u.value.getMonth();return new Date(l,o,1).getDay()}),A=N(()=>u.value.toLocaleString("default",{month:"long",year:"numeric"})),y=N(()=>{const l=[],o=u.value.getFullYear(),i=u.value.getMonth();for(let C=0;C<h.value;C++)l.push({date:null,isPadding:!0});for(let C=1;C<=M.value;C++){const w=new Date(o,i,C);l.push({date:w,day:C,isPadding:!1,isToday:_(w,new Date),hasAppointments:b(w).length>0})}return l}),_=(l,o)=>!l||!o?!1:l.getFullYear()===o.getFullYear()&&l.getMonth()===o.getMonth()&&l.getDate()===o.getDate(),b=l=>l?e.value.filter(o=>{const i=new Date(o.start_time);return _(i,l)}):[],B=()=>{u.value=new Date(u.value.getFullYear(),u.value.getMonth()-1,1)},d=()=>{u.value=new Date(u.value.getFullYear(),u.value.getMonth()+1,1)},a=l=>{l.isPadding||(f.value=l.date)},n=async()=>{try{const l=await F.get("/api/appointments");e.value=l.data}catch(l){console.error("Error fetching appointments",l)}};return H(()=>{n(),P.on("appointments:updated",n),window.addEventListener("refresh-appointments",n)}),q(()=>{P.off("appointments:updated",n),window.removeEventListener("refresh-appointments",n)}),k({fetchAppointments:n}),(l,o)=>(m(),c("div",ve,[t("div",fe,[t("div",ge,[t("h2",xe,p(A.value),1),t("div",be,[t("div",he,[t("button",{onClick:B,class:"p-1 hover:bg-white dark:hover:bg-neutral-700 rounded-md transition-colors",title:"Mes anterior"},[s(r(ne),{class:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})]),t("button",{onClick:d,class:"p-1 hover:bg-white dark:hover:bg-neutral-700 rounded-md transition-colors",title:"Mes siguiente"},[s(r(pe),{class:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})])]),s(r(O),{variant:"outline",size:"sm",onClick:o[0]||(o[0]=i=>u.value=new Date),class:"hidden sm:flex"},{default:v(()=>[...o[3]||(o[3]=[x("Hoy",-1)])]),_:1})])]),s(r(O),{onClick:o[1]||(o[1]=i=>l.$emit("add-appointment")),class:"w-full sm:w-auto gap-2 shadow-lg shadow-primary/20"},{default:v(()=>[s(r(Y),{class:"w-4 h-4"}),o[4]||(o[4]=x(" Nueva Cita ",-1))]),_:1})]),t("div",we,[t("div",_e,[t("div",ke,[(m(),c(V,null,E(["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],i=>t("div",{key:i,class:"text-center text-xs sm:text-sm font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider"},p(i),1)),64))]),t("div",ye,[(m(!0),c(V,null,E(y.value,(i,C)=>(m(),c("div",{key:C,onClick:w=>a(i),class:$(["relative p-1 sm:p-2 rounded-lg sm:rounded-xl border transition-all duration-200 cursor-pointer flex flex-col items-center sm:items-start justify-start min-h-[60px] sm:min-h-[100px]",i.isPadding?"border-transparent opacity-0 pointer-events-none":i.isToday?"bg-primary/5 border-primary/20 ring-1 ring-primary/20":f.value&&_(i.date,f.value)?"bg-neutral-100 dark:bg-neutral-800 border-neutral-300 dark:border-neutral-600 ring-2 ring-neutral-200 dark:ring-neutral-700":"bg-white dark:bg-neutral-900 border-neutral-100 dark:border-neutral-800 hover:border-neutral-300 dark:hover:border-neutral-700 hover:shadow-sm"])},[t("span",{class:$(["text-xs sm:text-sm font-semibold w-6 h-6 sm:w-7 sm:h-7 flex items-center justify-center rounded-full mb-1 sm:mb-2",i.isToday?"bg-primary text-white shadow-md shadow-primary/30":"text-neutral-700 dark:text-neutral-300"])},p(i.day),3),t("div",$e,[(m(!0),c(V,null,E(Math.min(b(i.date).length,3),w=>(m(),c("div",{key:w,class:"w-1.5 h-1.5 rounded-full bg-primary/70"}))),128))]),t("div",De,[(m(!0),c(V,null,E(b(i.date).slice(0,10),w=>(m(),c("div",{key:w.id,onClick:W(ct=>l.$emit("edit-appointment",w),["stop"]),class:$(["text-[10px] px-1.5 py-0.5 rounded truncate w-full border-l-2 font-medium transition-colors hover:brightness-95",w.status==="completed"?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-500 line-through opacity-70":"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-500"])},p(new Date(w.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}))+" "+p(w.title),11,Me))),128)),b(i.date).length>10?(m(),c("div",Ve," +"+p(b(i.date).length-10)+" más ",1)):T("",!0)])],10,Ce))),128))])]),s(X,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 lg:translate-y-0 lg:translate-x-4","enter-to-class":"opacity-100 translate-y-0 lg:translate-x-0","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 lg:translate-x-0","leave-to-class":"opacity-0 translate-y-4 lg:translate-y-0 lg:translate-x-4"},{default:v(()=>[f.value?(m(),c("div",Se,[t("div",Ee,[t("div",null,[t("h3",Te,p(f.value.toLocaleDateString("es-ES",{weekday:"long",day:"numeric"})),1),t("p",Ae,p(f.value.toLocaleDateString("es-ES",{month:"long",year:"numeric"})),1)]),t("div",Oe,p(b(f.value).length)+" citas ",1)]),t("div",je,[(m(!0),c(V,null,E(b(f.value),i=>(m(),c("div",{key:i.id,onClick:C=>l.$emit("edit-appointment",i),class:$(["bg-white dark:bg-neutral-800 p-4 rounded-xl shadow-sm border group hover:border-primary/30 transition-all hover:shadow-md cursor-pointer",i.status==="completed"?"border-green-200 dark:border-green-900/50 opacity-75":"border-neutral-100 dark:border-neutral-700"])},[t("div",Ne,[t("h4",{class:$(["font-semibold text-base",i.status==="completed"?"text-green-700 dark:text-green-400 line-through":"text-neutral-900 dark:text-white"])},p(i.title),3),t("div",Be,[s(r(R),{class:"w-3 h-3 mr-1"}),x(" "+p(new Date(i.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})),1)])]),i.description?(m(),c("p",Fe,p(i.description),1)):T("",!0),t("div",Ie,[t("div",Ue,[s(r(G),{class:"w-3 h-3"}),t("span",null,p(i.reminder_minutes_before)+"m antes",1)]),i.status==="completed"?(m(),c("div",Pe,[s(r(K),{class:"w-3 h-3"}),o[5]||(o[5]=x(" Completada ",-1))])):T("",!0)])],10,Le))),128)),b(f.value).length===0?(m(),c("div",ze,[t("div",Ye,[s(r(R),{class:"w-8 h-8 opacity-50"})]),o[7]||(o[7]=t("p",{class:"text-neutral-900 dark:text-white font-medium mb-1"},"Día libre",-1)),o[8]||(o[8]=t("p",{class:"text-sm text-neutral-500 mb-4 max-w-[200px]"},"No tienes citas programadas para este día.",-1)),s(r(O),{variant:"outline",size:"sm",onClick:o[2]||(o[2]=i=>l.$emit("add-appointment",f.value))},{default:v(()=>[s(r(Y),{class:"w-4 h-4 mr-2"}),o[6]||(o[6]=x(" Agregar Cita ",-1))]),_:1})])):T("",!0)])])):T("",!0)]),_:1})])]))}}),He=I({__name:"Textarea",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(S,{emit:k}){const g=S,e=ce(g,"modelValue",k,{passive:!0,defaultValue:g.defaultValue});return(f,M)=>Z((m(),c("textarea",{"onUpdate:modelValue":M[0]||(M[0]=h=>te(e)?e.value=h:null),class:$(r(se)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",g.class))},null,2)),[[ee,r(e)]])}}),qe={class:"p-6 pb-0"},Ge={key:0,class:"flex items-center gap-2"},Je={class:"space-y-5"},Ke={class:"space-y-1.5"},Qe={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},We={class:"space-y-1.5"},Xe={class:"relative"},Ze={class:"space-y-1.5"},et={class:"flex items-center gap-1"},tt={class:"flex bg-neutral-100 dark:bg-neutral-800 rounded-md p-0.5 ml-1"},at=["onClick"],lt={class:"space-y-2"},st={class:"flex flex-wrap gap-2 mb-2"},nt=["onClick"],rt={class:"flex items-center gap-2"},ot={class:"space-y-1.5"},it={class:"flex gap-2"},dt={class:"flex gap-2"},ut=I({__name:"AppointmentModal",props:{isOpen:{type:Boolean},initialDate:{},appointmentToEdit:{}},emits:["update:isOpen","saved","deleted"],setup(S,{emit:k}){const g=S,u=k,e=D({id:null,title:"",description:"",date:"",hour:"09",minute:"00",period:"AM",reminder:30,status:"pending"}),f=["AM","PM"],M=[{label:"Sin aviso",value:0},{label:"15 min antes",value:15},{label:"30 min antes",value:30},{label:"1 hora antes",value:60},{label:"1 día antes",value:1440}],h=N(()=>!!e.value.id);ae(()=>g.isOpen,d=>{if(d)if(g.appointmentToEdit){const a=g.appointmentToEdit,n=new Date(a.start_time);e.value.id=a.id,e.value.title=a.title,e.value.description=a.description||"",e.value.date=n.toISOString().split("T")[0],e.value.reminder=a.reminder_minutes_before,e.value.status=a.status||"pending";let l=n.getHours();const o=n.getMinutes();e.value.period=l>=12?"PM":"AM",l=l%12,l=l||12,e.value.hour=l.toString().padStart(2,"0"),e.value.minute=o.toString().padStart(2,"0")}else{const a=g.initialDate||new Date;e.value.id=null,e.value.date=a.toISOString().split("T")[0],e.value.title="",e.value.description="",e.value.status="pending",e.value.hour="09",e.value.minute="00",e.value.period="AM"}});const A=async()=>{try{let d=parseInt(e.value.hour);e.value.period==="PM"&&d!==12&&(d+=12),e.value.period==="AM"&&d===12&&(d=0);const a=`${d.toString().padStart(2,"0")}:${e.value.minute}`,n=new Date(`${e.value.date}T${a}`),l={title:e.value.title,description:e.value.description,start_time:n.toISOString(),reminder_minutes_before:e.value.reminder,status:e.value.status};h.value?await F.put(`/api/appointments/${e.value.id}`,l):await F.post("/api/appointments",l),u("saved"),u("update:isOpen",!1)}catch(d){console.error(d),alert("Error al guardar la cita. Verifica los campos.")}},y=async()=>{if(confirm("¿Estás seguro de eliminar esta cita?"))try{await F.delete(`/api/appointments/${e.value.id}`),u("deleted"),u("update:isOpen",!1)}catch(d){console.error(d),alert("Error al eliminar")}},_=()=>{e.value.status=e.value.status==="completed"?"pending":"completed"},b=()=>{let d=parseInt(e.value.hour);(isNaN(d)||d<1)&&(d=1),d>12&&(d=12),e.value.hour=d.toString().padStart(2,"0")},B=()=>{let d=parseInt(e.value.minute);(isNaN(d)||d<0)&&(d=0),d>59&&(d=59),e.value.minute=d.toString().padStart(2,"0")};return(d,a)=>(m(),U(r(ie),{open:S.isOpen,"onUpdate:open":a[7]||(a[7]=n=>d.$emit("update:isOpen",n))},{default:v(()=>[s(r(re),{class:"sm:max-w-[500px] p-0 overflow-hidden bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800"},{default:v(()=>[t("div",qe,[s(r(ue),{class:"mb-4 flex flex-row items-center justify-between"},{default:v(()=>[s(r(me),{class:"text-xl font-semibold flex items-center gap-2"},{default:v(()=>[s(r(z),{class:"w-5 h-5 text-primary"}),x(" "+p(h.value?"Editar Cita":"Agendar Nueva Cita"),1)]),_:1}),h.value?(m(),c("div",Ge,[t("button",{onClick:_,class:$(["flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium transition-colors",e.value.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400 hover:bg-green-50 hover:text-green-600"])},[s(r(K),{class:"w-3.5 h-3.5"}),x(" "+p(e.value.status==="completed"?"Completada":"Marcar Completada"),1)],2)])):T("",!0)]),_:1}),t("div",Je,[t("div",Ke,[s(r(L),{class:"text-xs font-medium text-neutral-500 uppercase tracking-wider"},{default:v(()=>[...a[8]||(a[8]=[x("Título de la cita",-1)])]),_:1}),s(r(j),{modelValue:e.value.title,"onUpdate:modelValue":a[0]||(a[0]=n=>e.value.title=n),placeholder:"Ej: Consulta General, Corte de Cabello...",class:"text-lg font-medium border-0 border-b border-neutral-200 dark:border-neutral-800 rounded-none px-0 focus-visible:ring-0 focus-visible:border-primary bg-transparent placeholder:text-neutral-300 dark:placeholder:text-neutral-700"},null,8,["modelValue"])]),t("div",Qe,[t("div",We,[s(r(L),{class:"text-xs font-medium text-neutral-500 uppercase tracking-wider"},{default:v(()=>[...a[9]||(a[9]=[x("Fecha",-1)])]),_:1}),t("div",Xe,[s(r(j),{type:"date",modelValue:e.value.date,"onUpdate:modelValue":a[1]||(a[1]=n=>e.value.date=n),class:"pl-9"},null,8,["modelValue"]),s(r(z),{class:"w-4 h-4 absolute left-3 top-2.5 text-neutral-400"})])]),t("div",Ze,[s(r(L),{class:"text-xs font-medium text-neutral-500 uppercase tracking-wider"},{default:v(()=>[...a[10]||(a[10]=[x("Hora",-1)])]),_:1}),t("div",et,[s(r(j),{type:"number",modelValue:e.value.hour,"onUpdate:modelValue":a[2]||(a[2]=n=>e.value.hour=n),min:"1",max:"12",class:"w-14 text-center",placeholder:"12",onBlur:b},null,8,["modelValue"]),a[11]||(a[11]=t("span",{class:"text-neutral-400"},":",-1)),s(r(j),{type:"number",modelValue:e.value.minute,"onUpdate:modelValue":a[3]||(a[3]=n=>e.value.minute=n),min:"0",max:"59",class:"w-14 text-center",placeholder:"00",onBlur:B},null,8,["modelValue"]),t("div",tt,[(m(),c(V,null,E(f,n=>t("button",{key:n,onClick:l=>e.value.period=n,class:$(["px-2 py-1 text-xs font-medium rounded-sm transition-all",e.value.period===n?"bg-white dark:bg-neutral-700 shadow-sm text-primary":"text-neutral-500 hover:text-neutral-700"])},p(n),11,at)),64))])])])]),t("div",lt,[s(r(L),{class:"flex items-center gap-2 text-xs font-medium text-neutral-500 uppercase tracking-wider"},{default:v(()=>[s(r(G),{class:"w-3 h-3"}),a[12]||(a[12]=x(" Recordatorio (minutos antes) ",-1))]),_:1}),t("div",st,[(m(),c(V,null,E(M,n=>t("button",{key:n.value,onClick:l=>e.value.reminder=n.value,class:$(["px-3 py-1.5 text-sm rounded-full border transition-all",e.value.reminder===n.value?"bg-amber-50 dark:bg-amber-900/20 border-amber-500 text-amber-600 dark:text-amber-400 font-medium":"bg-transparent border-neutral-200 dark:border-neutral-800 text-neutral-600 dark:text-neutral-400 hover:border-neutral-300"])},p(n.label),11,nt)),64))]),t("div",rt,[s(r(j),{type:"number",modelValue:e.value.reminder,"onUpdate:modelValue":a[4]||(a[4]=n=>e.value.reminder=n),min:"0",class:"w-24",placeholder:"Custom"},null,8,["modelValue"]),a[13]||(a[13]=t("span",{class:"text-sm text-neutral-500"},"minutos antes",-1))])]),t("div",ot,[s(r(L),{class:"text-xs font-medium text-neutral-500 uppercase tracking-wider"},{default:v(()=>[...a[14]||(a[14]=[x("Notas Adicionales",-1)])]),_:1}),s(He,{modelValue:e.value.description,"onUpdate:modelValue":a[5]||(a[5]=n=>e.value.description=n),placeholder:"Detalles, instrucciones especiales...",class:"resize-none h-20"},null,8,["modelValue"])])])]),s(r(de),{class:"p-6 bg-neutral-50 dark:bg-neutral-900/50 border-t border-neutral-100 dark:border-neutral-800 mt-6 flex justify-between items-center"},{default:v(()=>[t("div",it,[h.value?(m(),U(r(O),{key:0,variant:"destructive",size:"icon",onClick:y,title:"Eliminar Cita"},{default:v(()=>[s(r(oe),{class:"w-4 h-4"})]),_:1})):T("",!0)]),t("div",dt,[s(r(O),{variant:"outline",onClick:a[6]||(a[6]=n=>d.$emit("update:isOpen",!1))},{default:v(()=>[...a[15]||(a[15]=[x("Cancelar",-1)])]),_:1}),s(r(O),{onClick:A,class:"px-8"},{default:v(()=>[x(p(h.value?"Guardar Cambios":"Agendar Cita"),1)]),_:1})])]),_:1})]),_:1})]),_:1},8,["open"]))}}),mt={class:"h-full p-4 sm:p-6 lg:p-8"},Nt=I({__name:"Calendar",setup(S){const k=D(!1),g=D(null),u=D(null),e=D(null),f=y=>{g.value=y||new Date,u.value=null,k.value=!0},M=y=>{g.value=null,u.value=y,k.value=!0},h=()=>{e.value?.fetchAppointments()},A=y=>{const{date:_,time:b,title:B}=y.detail;_?f(new Date(_)):f()};return H(()=>{window.addEventListener("open-appointment-modal",A)}),q(()=>{window.removeEventListener("open-appointment-modal",A)}),(y,_)=>(m(),c(V,null,[s(r(le),{title:"Calendario"}),s(Q,null,{default:v(()=>[t("div",mt,[s(Re,{ref_key:"calendarRef",ref:e,onAddAppointment:f,onEditAppointment:M},null,512),s(ut,{isOpen:k.value,"onUpdate:isOpen":_[0]||(_[0]=b=>k.value=b),initialDate:g.value,appointmentToEdit:u.value,onSaved:h,onDeleted:h},null,8,["isOpen","initialDate","appointmentToEdit"])])]),_:1})],64))}});export{Nt as default};
